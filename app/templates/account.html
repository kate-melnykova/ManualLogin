{% extends 'base.html' %}

{% block form %}
<h1>My info: </h1>
<div>
    <p> Username: {{user.username}}</p>
    <p> First name: {{user.first_name}}</p>
    <p> Date of birth:
        {% if user.dob == '' or user.dob is none %}
            N/A
        {% else %}
            {{user.dob.strftime('%x')}}
        {% endif %}
    </p>
    <p> Registered since: {{user.date.strftime('%x')}} </p>
    <p> Total number of posts: {{posts|length}}</p>
</div>
<h1> My posts </h1>
{% if posts|length == 0 %}
<div> No posts yet! <a href="/blogpost_edit">Create a new post</a></div>
{% else %}
{% for post in posts %}
    <fieldset style="width:80%; table-layout: fixed; margin-left: auto; margin-right: auto">
        <p style="font-size:160%;"><b>{{post.title}}</b></p>
        <p style="font-size:80%;">
            <i><a href="/profile?username={{post.author}}">{{post.author}}</a></i>
        </p>
        <p> {{post.content}} </p>
    </fieldset>
    <br>
{% endfor %}
{% endif %}
{% endblock %}